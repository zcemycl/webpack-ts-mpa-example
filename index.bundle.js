(()=>{"use strict";const t=()=>{const t="/about/";return"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname?location.href="/webpack-ts-mpa-example/about/":location.href=t,location.href};new class{constructor(e,a){this.onDataChanged=t=>{console.log("changed data"),this.view.displayChanges(t)},this.handleAddRandom=t=>{this.model.addRandom(t)},this.handleNextClick=()=>{const t=this.model.activeIndex+1<=this.view.groups.length-1?this.model.activeIndex+1:0,e=document.querySelector(`[data-index="${this.model.activeIndex}"]`),a=document.querySelector(`[data-index="${t}"]`);e.dataset.status="after",a.dataset.status="becoming-active-from-before",setTimeout((()=>{a.dataset.status="active",this.model.activeIndex=t}))},this.handlePrevClick=()=>{const t=this.model.activeIndex-1>=0?this.model.activeIndex-1:this.view.groups.length-1,e=document.querySelector(`[data-index="${this.model.activeIndex}"]`),a=document.querySelector(`[data-index="${t}"]`);e.dataset.status="before",a.dataset.status="becoming-active-from-after",setTimeout((()=>{a.dataset.status="active",this.model.activeIndex=t}))},this.model=e,this.view=a,this.view.aboutbtn.onclick=t,this.model.bindDataChanged(this.onDataChanged),this.view.bindAddRandom(this.handleAddRandom),this.onDataChanged(this.model.data),this.view.nextbtn.onclick=this.handleNextClick,this.view.prevbtn.onclick=this.handlePrevClick}}(new class{constructor(){this.activeIndex=0,this.data=[],this.onDataChanged=t=>{console.log(t)}}bindDataChanged(t){this.onDataChanged=t}_commit(t){this.onDataChanged(t)}addRandom(t){this.data.push(t),this._commit(this.data)}},new class{constructor(){this.app=this.getElement("#root"),this.button=this.createElement("button"),this.button.textContent="New Number",this.button.setAttribute("data-testid","0"),this.aboutbtn=this.createElement("button"),this.aboutbtn.textContent="About",this.paragraph=this.createElement("h4","output"),this.paragraph.innerHTML="",this.app.append(this.button,this.aboutbtn,this.paragraph),this.prevbtn=document.getElementById("prev-button"),this.nextbtn=document.getElementById("next-button"),this.groups=document.getElementsByClassName("card-group")}getElement(t){return document.querySelector(t)}createElement(t,e){const a=document.createElement(t);return e&&a.classList.add(e),a}bindAddRandom(t){this.button.addEventListener("click",(()=>{console.log("click!!!"),t(Math.floor(100*Math.random())+1)}))}displayChanges(t){console.log(t),this.paragraph.innerHTML=t.toString()}})})();